<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Native XHR Tester</title>
    <script>
        function sendQuery(typeQuery) {

            let domain = 'http://rsprm.ru/test';
            let xhr = new XMLHttpRequest();
            xhr.onload = function () {
                console.log(xhr.responseText);
            };

            xhr.onerror = function () {
                console.log(xhr.statusText);
            };

            switch (typeQuery) {

                case 'GET':

                    xhr.open('GET', domain + '/trucks', false);
                    xhr.send();

                    break;

                case 'PATCH':

                    let idPatch = '117';
                    let truckProp = {
                        comment: "Нормальный комментарий",
                        nameTruck: "Фура",
                        price: "40000"
                    };

                    xhr.open('PATCH', domain + '/truck/' + idPatch, true);
                    //xhr.setRequestHeader('Content-Type', 'application/json');
                    xhr.send(JSON.stringify(truckProp));

                    break;

                case 'POST':

                    let truck = {
                        comment: "Хорошая машина",
                        nameTruck: "Mersedes",
                        price: "30000"
                    };

                    xhr.open('POST', domain + '/truck/add', true);
                    xhr.setRequestHeader('Content-Type', 'text/plain');
                    xhr.send(JSON.stringify(truck));

                    break;

            }

        }
    </script>
</head>
<body>
<button type="button" name="button" onclick="sendQuery('GET')">Сделать GET-запрос</button>
<button type="button" name="button" onclick="sendQuery('PATCH')">Сделать PATCH-запрос</button>
<button type="button" name="button" onclick="sendQuery('POST')">Сделать POST-запрос</button>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>